!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=31)}({1:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return d}));const r=async e=>new Promise((t,n)=>{const r=new XMLHttpRequest;r.onload=e=>{e?t(e.target.response):n()},r.responseType="arraybuffer",r.open("GET",e,!0),r.send()}),o=e=>{try{const t=window.top||window,{hostname:n,pathname:r}=t.location;return"messenger"===e?n.includes("www.facebook.com")&&r.includes("videocall"):n.includes(e)}catch(t){return!1}},i=e=>new Promise(t=>setTimeout(t,e)),a=e=>{if(!e||!e.audio)return;const{audio:t}=e;if(t.mandatory&&t.mandatory.sourceId)return t.mandatory.sourceId;if(t.deviceId){return"string"===typeof t.deviceId?t.deviceId:t.deviceId.exact}if(t.optional&&t.optional.length){const e=t.optional.find(e=>e.sourceId);return e&&e.sourceId}},s=async(e="default")=>{try{return(await navigator.mediaDevices.enumerateDevices()).find(t=>t.deviceId===e&&"audioinput"===t.kind)}catch(t){return}},c=e=>{e&&e.getAudioTracks().forEach(e=>{e.stop()})},u=(e,t,n)=>{Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},d=(e,t)=>e>8e3!==t>8e3},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));const r={prod:{url_protocol:"https",api_domain:"api.krisp.ai",app_domain:"https://account.krisp.ai",prefix:"v2",analytics_url:"https://analytics.krisp.ai/v1/",sentry_env:"prod"},dev:{url_protocol:"https",api_domain:"dev.api.krisp.ai",app_domain:"https://dev.account.krisp.ai",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/"},stage:{url_protocol:"https",api_domain:"stage.api.krisp.ai",app_domain:"https://stage.account.krisp.ai",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/",sentry_env:"stage"},local:{url_protocol:"http",api_domain:"localhost:4567",app_domain:"localhost:3000",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/"}}[(()=>{let e="prod";return e="development"===e?"dev":e,e="production"===e?"prod":e,e})()],o={API:{URL:`${r.url_protocol}://${r.api_domain}`,ANALYTICS_URL:""+r.analytics_url,API_PREFIX:r.prefix,AUTH_HEADER:"Authorization",AUTH_PREFIX:"Bearer"}},i={DOMAIN:r.app_domain,LOGIN_PAGE:r.app_domain+"/login/ext",CREATE_TEAM:r.app_domain+"/app/teams/create",ACCOUNT_PAGE:r.app_domain+"/app/manage/account",UNLOCK_PAGE:r.app_domain+"/app/unlock",FIRST_INSTALL_URL:o.API.URL+"/v2/resource/link/extension/success",AFTER_UNINSTALl_URL:"https://krisp.ai/come-back/?source=extension",SUPPORT_URL:"https://help.krisp.ai/hc/en-us/requests/new",HOW_TO_USE_URL:"https://help.krisp.ai/hc/en-us/articles/360012699139-How-to-use-Krisp-Chrome-Extension-",PRIVACY_POLICY:"https://krisp.ai/privacy-policy/",TERMS_OF_USE:"https://krisp.ai/terms-of-use/",TEST_NOICE_CANCEL:o.API.URL+"/v2/resource/link/test_nc",DISCONTINUED_URL:o.API.URL+"/v2/resource/link/chrome_discontinued"},a={FETCH_PROFILE:108e5,INSTALLATION_FAILD_RETRY:36e5},s={SENTRY_ENV:r.sentry_env,SENTRY_DSN:"https://1b5c36ac8a3d429a8af791eea8e953b6@o248321.ingest.sentry.io/2731203",VERSION:chrome.runtime.getManifest().version,ISSUPPORTED:(()=>{const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=!!e&&parseInt(e[2],10);return t&&t>65})()}},31:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t),n.d(t,"sendWindowEventToPages",(function(){return c}));var r=n(5),o=n(1),i=n(8),a=n(2);const s="pbui_iframe",c=(e,t)=>{const n=window.frames.length&&Object(o.d)("webex.com")&&window.frames[s];(n?n.contentWindow:window).dispatchEvent(new CustomEvent(e,{detail:t}))},u=async e=>{if(e["event/toggleMute"]){const e=await Object(r.a)("state","appState");c("appState",e.appState)}},d=e=>{chrome.app&&void 0!==chrome.app.isInstalled&&Object(r.b)("patching",e.detail)},p=async()=>{const e=await Object(r.a)("canPatch");c("appState",e)},l=e=>{Object(r.b)("capturePatchError",e.detail)};(()=>{const e=window!==window.top;if(Object(o.d)("webex.com")&&e){return(window.frameElement&&window.frameElement.id).includes(s)}return!e})()&&a.a.ISSUPPORTED&&(chrome.storage.onChanged.addListener(u),window.addEventListener("stream",d),window.addEventListener("canPatch",p),window.addEventListener("capturePatchError",l),Object(i.a)({model8:Object(i.b)("models/small_8k.thw"),model16:Object(i.b)("models/small_16k.thw"),workletURL:Object(i.b)("wasm/krisp-processor.js")}))},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r=(e,t)=>new Promise((n,r)=>{chrome.runtime.sendMessage({msg:e,data:t},e=>{n(e)})}),o=(e,t)=>{chrome.runtime.sendMessage({msg:e,data:t})},i=(e,t)=>{(window!==window.top?window.parent:window).dispatchEvent(new CustomEvent(e,{detail:t}))},a=(e,t)=>{window.dispatchEvent(new CustomEvent(e,{detail:t}))}},8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=e=>chrome.runtime.getURL(e),o=e=>{if(document.querySelector("#krispX"))return;const t=document.createElement("script");((e,t)=>{for(const n in t)e.setAttribute(n,t[n])})(t,{id:"krispX",type:"text/javascript",async:!0,src:r("static/js/patch.js"),...e}),t.onload=()=>{t.remove()};const n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;n.insertBefore(t,n.firstChild)}}});