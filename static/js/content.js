!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=29)}({1:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return d}));const r=async t=>new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=t=>{t?e(t.target.response):n()},r.responseType="arraybuffer",r.open("GET",t,!0),r.send()}),o=t=>{try{const e=window.top||window,{hostname:n,pathname:r}=e.location;return"messenger"===t?n.includes("www.facebook.com")&&r.includes("videocall"):n.includes(t)}catch(e){return!1}},a=t=>new Promise(e=>setTimeout(e,t)),i=t=>{if(!t||!t.audio)return;const{audio:e}=t;if(e.mandatory&&e.mandatory.sourceId)return e.mandatory.sourceId;if(e.deviceId){return"string"===typeof e.deviceId?e.deviceId:e.deviceId.exact}if(e.optional&&e.optional.length){const t=e.optional.find(t=>t.sourceId);return t&&t.sourceId}},c=async(t="default")=>{try{return(await navigator.mediaDevices.enumerateDevices()).find(e=>e.deviceId===t&&"audioinput"===e.kind)}catch(e){return}},s=t=>{t&&t.getAudioTracks().forEach(t=>{t.stop()})},u=(t,e,n)=>{Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})},d=(t,e)=>t>8e3!==e>8e3},2:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c}));const r={prod:{url_protocol:"https",api_domain:"api.krisp.ai",app_domain:"https://account.krisp.ai",prefix:"v2",analytics_url:"https://analytics.krisp.ai/v1/",sentry_env:"prod"},dev:{url_protocol:"https",api_domain:"dev.api.krisp.ai",app_domain:"https://dev.account.krisp.ai",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/"},stage:{url_protocol:"https",api_domain:"stage.api.krisp.ai",app_domain:"https://stage.account.krisp.ai",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/",sentry_env:"stage"},local:{url_protocol:"http",api_domain:"localhost:4567",app_domain:"localhost:3000",prefix:"v2",analytics_url:"https://stage.analytics.krisp.ai/v1/"}}[(()=>{let t="prod";return t="development"===t?"dev":t,t="production"===t?"prod":t,t})()],o={API:{URL:`${r.url_protocol}://${r.api_domain}`,ANALYTICS_URL:""+r.analytics_url,API_PREFIX:r.prefix,AUTH_HEADER:"Authorization",AUTH_PREFIX:"Bearer"}},a={DOMAIN:r.app_domain,LOGIN_PAGE:r.app_domain+"/login/ext",CREATE_TEAM:r.app_domain+"/app/teams/create",ACCOUNT_PAGE:r.app_domain+"/app/manage/account",UNLOCK_PAGE:r.app_domain+"/app/unlock",FIRST_INSTALL_URL:o.API.URL+"/v2/resource/link/extension/success",AFTER_UNINSTALl_URL:"https://krisp.ai/come-back/?source=extension",SUPPORT_URL:"https://help.krisp.ai/hc/en-us/requests/new",HOW_TO_USE_URL:"https://help.krisp.ai/hc/en-us/articles/360012699139-How-to-use-Krisp-Chrome-Extension-",PRIVACY_POLICY:"https://krisp.ai/privacy-policy/",TERMS_OF_USE:"https://krisp.ai/terms-of-use/",TEST_NOICE_CANCEL:o.API.URL+"/v2/resource/link/test_nc",DISCONTINUED_URL:o.API.URL+"/v2/resource/link/chrome_discontinued"},i={FETCH_PROFILE:108e5,INSTALLATION_FAILD_RETRY:36e5},c={SENTRY_ENV:r.sentry_env,SENTRY_DSN:"https://1b5c36ac8a3d429a8af791eea8e953b6@o248321.ingest.sentry.io/2731203",VERSION:chrome.runtime.getManifest().version,ISSUPPORTED:(()=>{const t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),e=!!t&&parseInt(t[2],10);return e&&e>65})()}},29:function(t,e,n){t.exports=n(30)},30:function(t,e,n){"use strict";n.r(e);var r=n(8),o=n(5),a=n(1),i=n(2);const c=!Object(a.d)("webex.com")&&!Object(a.d)("krisp.ai")&&i.a.ISSUPPORTED,s=async t=>{if(t["event/toggleMute"]){const t=await Object(o.a)("state");Object(o.d)("appState",t.appState)}},u=t=>{chrome.app&&void 0!==chrome.app.isInstalled&&Object(o.b)("patching",t.detail)},d=async()=>{const t=await Object(o.a)("canPatch");t&&Object(o.d)("appState",t)},p=t=>{Object(o.b)("capturePatchError",t.detail)};c&&(window.addEventListener("stream",u),window.addEventListener("canPatch",d),window.addEventListener("capturePatchError",p),chrome.storage.onChanged.addListener(s),Object(r.a)({model8:Object(r.b)("models/small_8k.thw"),model16:Object(r.b)("models/small_16k.thw"),workletURL:Object(r.b)("wasm/krisp-processor.js")}))},5:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return i}));const r=(t,e)=>new Promise((n,r)=>{chrome.runtime.sendMessage({msg:t,data:e},t=>{n(t)})}),o=(t,e)=>{chrome.runtime.sendMessage({msg:t,data:e})},a=(t,e)=>{(window!==window.top?window.parent:window).dispatchEvent(new CustomEvent(t,{detail:e}))},i=(t,e)=>{window.dispatchEvent(new CustomEvent(t,{detail:e}))}},8:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));const r=t=>chrome.runtime.getURL(t),o=t=>{if(document.querySelector("#krispX"))return;const e=document.createElement("script");((t,e)=>{for(const n in e)t.setAttribute(n,e[n])})(e,{id:"krispX",type:"text/javascript",async:!0,src:r("static/js/patch.js"),...t}),e.onload=()=>{e.remove()};const n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;n.insertBefore(e,n.firstChild)}}});